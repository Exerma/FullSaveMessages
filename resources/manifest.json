{
    "manifest_version": 3,
    "name": "Message save and archive exfiltration",
    "description": "Allow grouped exfiltration of your messages in EML and PDF formatsonDescription",
    "version": "1.0",
    "author": "Patrick Seuret",
    "homepage_url": "https://github.com/Exerma/FullSaveMessages",
    "browser_specific_settings": {
        "gecko": {
            "id": "tb_fullsavemessages@seuret.ch",
            "strict_min_version": "105.0"
        }
    },
    "permissions": ["storage", "messagesRead", "messagesMove", "downloads", "downloads.open"],
    "host_permissions": ["<all_urls>"],
    "background": {
        "scripts": ["background.js"]
    },
    "action": {
        "default_title": "Full Save",
        "default_icon": {
            "16": "images/icon-16px-light.png",
            "32": "images/icon-32px-light.png"
        },
        "theme_icons": [{
            "light": "images/icon-16px-lightpng",
            "dark": "images/icon-16px-dark.png",
            "size": 16
          }, {
            "light": "images/icon-32px-light.png",
            "dark": "images/icon-32px-dark.png",
            "size": 32
          }],
        "default_popup": "action_popup.html",
        "allowed_spaces": ["mail"],
        "type": "button"
    },
    "web_accessible_resources": [{
        "resources": [ 
            "pdf_template.*",
            "welcome_archives.*"
        ],
        "matches": ["<all_urls>"]
    }],
    "icons": {
        "64": "images/icon-64px-light.png",
        "32": "images/icon-32px-light.png",
        "16": "images/icon-16px-light.png"
    },
    "experiment_apis": {
        "localSaveFile": {
            "schema": "api/LocalSaveFileAPI/schema.json",
            "parent": {
                "scopes": [ "addon_parent" ],
                "paths": [ [ "localSaveFile" ] ],
                "script": "api/LocalSaveFileAPI/implementation.js"
            }
        }
    }
}
